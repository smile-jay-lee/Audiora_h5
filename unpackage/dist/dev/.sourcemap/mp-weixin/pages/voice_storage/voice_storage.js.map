{"version":3,"file":"voice_storage.js","sources":["pages/voice_storage/voice_storage.vue","../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdm9pY2Vfc3RvcmFnZS92b2ljZV9zdG9yYWdlLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"voice-storage-container\">\r\n\t\t<!-- 导航栏 -->\r\n\t\t<uv-navbar title=\"语音存储\" :border=\"true\" :placeholder=\"true\" bg-color=\"#ffffff\">\r\n\t\t\t<template #left>\r\n\t\t\t\t<uv-icon name=\"arrow-left\" size=\"18\" @click=\"goBack\"></uv-icon>\r\n\t\t\t</template>\r\n\t\t\t<template #right>\r\n\t\t\t\t<uv-icon name=\"plus\" size=\"18\" @click=\"showUploadModal = true\"></uv-icon>\r\n\t\t\t</template>\r\n\t\t</uv-navbar>\r\n\r\n\t\t<!-- 顶部统计卡片 -->\r\n\t\t<view class=\"stats-container\">\r\n\t\t\t<view class=\"stats-card\">\r\n\t\t\t\t<view class=\"stats-number\">{{ voiceList.length }}</view>\r\n\t\t\t\t<view class=\"stats-label\">总语音数</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"stats-card\">\r\n\t\t\t\t<view class=\"stats-number\">{{ totalDuration }}</view>\r\n\t\t\t\t<view class=\"stats-label\">总时长(秒)</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"stats-card\">\r\n\t\t\t\t<view class=\"stats-number\">{{ totalSize }}</view>\r\n\t\t\t\t<view class=\"stats-label\">总大小(MB)</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 分类筛选 -->\r\n\t\t<view class=\"filter-container\">\r\n\t\t\t<uv-tabs :list=\"categoryList\" :current=\"currentCategory\" @change=\"onCategoryChange\" \r\n\t\t\t         activeColor=\"#007AFF\" inactiveColor=\"#666666\" :bold=\"false\"></uv-tabs>\r\n\t\t</view>\r\n\r\n\t\t<!-- 语音列表 -->\r\n\t\t<view class=\"voice-list\">\r\n\t\t\t<view v-if=\"filteredVoiceList.length === 0\" class=\"empty-state\">\r\n\t\t\t\t<uv-empty mode=\"data\" text=\"暂无语音文件\"></uv-empty>\r\n\t\t\t\t<uv-button type=\"primary\" @click=\"showUploadModal = true\" style=\"margin-top: 20px;\">\r\n\t\t\t\t\t添加语音\r\n\t\t\t\t</uv-button>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view v-for=\"(item, index) in filteredVoiceList\" :key=\"item.id\" class=\"voice-item\">\r\n\t\t\t\t<view class=\"voice-info\">\r\n\t\t\t\t\t<view class=\"voice-cover\" @click=\"playVoice(item)\">\r\n\t\t\t\t\t\t<uv-icon :name=\"item.isPlaying ? 'pause-circle-fill' : 'play-circle-fill'\" \r\n\t\t\t\t\t\t         size=\"40\" color=\"#007AFF\"></uv-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"voice-details\">\r\n\t\t\t\t\t\t<view class=\"voice-name\">{{ item.name }}</view>\r\n\t\t\t\t\t\t<view class=\"voice-meta\">\r\n\t\t\t\t\t\t\t<text class=\"voice-duration\">{{ formatDuration(item.duration) }}</text>\r\n\t\t\t\t\t\t\t<text class=\"voice-size\">{{ formatSize(item.size) }}</text>\r\n\t\t\t\t\t\t\t<text class=\"voice-date\">{{ formatDate(item.createTime) }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"voice-category\">\r\n\t\t\t\t\t\t\t<uv-tags :text=\"item.category\" type=\"info\" size=\"mini\"></uv-tags>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"voice-actions\">\r\n\t\t\t\t\t<uv-icon name=\"edit-pen\" size=\"16\" color=\"#909399\" @click=\"editVoice(item)\"></uv-icon>\r\n\t\t\t\t\t<uv-icon name=\"trash\" size=\"16\" color=\"#F56C6C\" @click=\"deleteVoice(item, index)\" \r\n\t\t\t\t\t         style=\"margin-left: 15px;\"></uv-icon>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 上传/录音弹窗 -->\r\n\t\t<uv-popup v-model=\"showUploadModal\" mode=\"bottom\" border-radius=\"20\" :safe-area-inset-bottom=\"true\">\r\n\t\t\t<view class=\"upload-modal\">\r\n\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t<view class=\"modal-title\">添加语音</view>\r\n\t\t\t\t\t<uv-icon name=\"close\" size=\"18\" @click=\"showUploadModal = false\"></uv-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"upload-options\">\r\n\t\t\t\t\t<view class=\"upload-option\" @click=\"chooseFile\">\r\n\t\t\t\t\t\t<uv-icon name=\"folder\" size=\"24\" color=\"#007AFF\"></uv-icon>\r\n\t\t\t\t\t\t<text>从文件选择</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"upload-option\" @click=\"startRecord\">\r\n\t\t\t\t\t\t<uv-icon name=\"mic\" size=\"24\" color=\"#FF6B35\"></uv-icon>\r\n\t\t\t\t\t\t<text>录音</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uv-popup>\r\n\r\n\t\t<!-- 录音界面 -->\r\n\t\t<uv-popup v-model=\"showRecordModal\" mode=\"center\" border-radius=\"20\" width=\"300\">\r\n\t\t\t<view class=\"record-modal\">\r\n\t\t\t\t<view class=\"record-header\">\r\n\t\t\t\t\t<view class=\"record-title\">录音中...</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"record-content\">\r\n\t\t\t\t\t<view class=\"record-time\">{{ recordTime }}</view>\r\n\t\t\t\t\t<view class=\"record-wave\">\r\n\t\t\t\t\t\t<view class=\"wave-bar\" v-for=\"n in 20\" :key=\"n\" \r\n\t\t\t\t\t\t      :style=\"{ height: Math.random() * 30 + 10 + 'px' }\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"record-actions\">\r\n\t\t\t\t\t<uv-button @click=\"stopRecord\" type=\"primary\">停止录音</uv-button>\r\n\t\t\t\t\t<uv-button @click=\"cancelRecord\" type=\"default\" style=\"margin-left: 10px;\">取消</uv-button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uv-popup>\r\n\r\n\t\t<!-- 编辑语音弹窗 -->\r\n\t\t<uv-popup v-model=\"showEditModal\" mode=\"center\" border-radius=\"20\" width=\"300\">\r\n\t\t\t<view class=\"edit-modal\">\r\n\t\t\t\t<view class=\"edit-header\">\r\n\t\t\t\t\t<view class=\"edit-title\">编辑语音</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"edit-form\">\r\n\t\t\t\t\t<uv-form :model=\"editForm\" ref=\"editFormRef\">\r\n\t\t\t\t\t\t<uv-form-item label=\"语音名称\" prop=\"name\">\r\n\t\t\t\t\t\t\t<uv-input v-model=\"editForm.name\" placeholder=\"请输入语音名称\"></uv-input>\r\n\t\t\t\t\t\t</uv-form-item>\r\n\t\t\t\t\t\t<uv-form-item label=\"分类\" prop=\"category\">\r\n\t\t\t\t\t\t\t<uv-picker v-model=\"editForm.category\" :range=\"categories\" @change=\"onEditCategoryChange\">\r\n\t\t\t\t\t\t\t\t<uv-input v-model=\"editForm.category\" placeholder=\"请选择分类\" readonly></uv-input>\r\n\t\t\t\t\t\t\t</uv-picker>\r\n\t\t\t\t\t\t</uv-form-item>\r\n\t\t\t\t\t</uv-form>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"edit-actions\">\r\n\t\t\t\t\t<uv-button @click=\"saveEdit\" type=\"primary\">保存</uv-button>\r\n\t\t\t\t\t<uv-button @click=\"showEditModal = false\" type=\"default\" style=\"margin-left: 10px;\">取消</uv-button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uv-popup>\r\n\r\n\t\t<!-- 播放进度条 -->\r\n\t\t<view v-if=\"currentPlayingVoice\" class=\"player-bar\">\r\n\t\t\t<view class=\"player-content\">\r\n\t\t\t\t<view class=\"player-info\">\r\n\t\t\t\t\t<text class=\"player-name\">{{ currentPlayingVoice.name }}</text>\r\n\t\t\t\t\t<text class=\"player-time\">{{ formatDuration(playCurrentTime) }} / {{ formatDuration(currentPlayingVoice.duration) }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"player-controls\">\r\n\t\t\t\t\t<uv-icon name=\"pause\" size=\"20\" @click=\"pauseVoice\" v-if=\"isPlaying\"></uv-icon>\r\n\t\t\t\t\t<uv-icon name=\"play\" size=\"20\" @click=\"resumeVoice\" v-else></uv-icon>\r\n\t\t\t\t\t<uv-icon name=\"close\" size=\"16\" @click=\"stopVoice\" style=\"margin-left: 10px;\"></uv-icon>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<uv-slider v-model=\"playProgress\" @change=\"onProgressChange\" active-color=\"#007AFF\" \r\n\t\t\t           inactive-color=\"#E4E7ED\" :show-value=\"false\"></uv-slider>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 语音列表\r\n\t\t\tvoiceList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tname: \"示例语音1.mp3\",\r\n\t\t\t\t\tcategory: \"个人录音\",\r\n\t\t\t\t\tduration: 120, // 秒\r\n\t\t\t\t\tsize: 2.5, // MB\r\n\t\t\t\t\tcreateTime: new Date().getTime() - 86400000,\r\n\t\t\t\t\turl: \"/static/demo_audio.mp3\",\r\n\t\t\t\t\tisPlaying: false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tname: \"示例语音2.wav\",\r\n\t\t\t\t\tcategory: \"上传文件\",\r\n\t\t\t\t\tduration: 85,\r\n\t\t\t\t\tsize: 4.2,\r\n\t\t\t\t\tcreateTime: new Date().getTime() - 172800000,\r\n\t\t\t\t\turl: \"/static/demo_audio2.mp3\",\r\n\t\t\t\t\tisPlaying: false\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\t// 分类\r\n\t\t\tcategories: [\"全部\", \"个人录音\", \"上传文件\", \"语音合成\", \"其他\"],\r\n\t\t\tcategoryList: [\r\n\t\t\t\t{ name: \"全部\" },\r\n\t\t\t\t{ name: \"个人录音\" },\r\n\t\t\t\t{ name: \"上传文件\" },\r\n\t\t\t\t{ name: \"语音合成\" },\r\n\t\t\t\t{ name: \"其他\" }\r\n\t\t\t],\r\n\t\t\tcurrentCategory: 0,\r\n\t\t\t\r\n\t\t\t// 弹窗控制\r\n\t\t\tshowUploadModal: false,\r\n\t\t\tshowRecordModal: false,\r\n\t\t\tshowEditModal: false,\r\n\t\t\t\r\n\t\t\t// 录音相关\r\n\t\t\trecordTime: \"00:00\",\r\n\t\t\trecordTimer: null,\r\n\t\t\trecordStartTime: 0,\r\n\t\t\trecorderManager: null,\r\n\t\t\t\r\n\t\t\t// 编辑表单\r\n\t\t\teditForm: {\r\n\t\t\t\tid: '',\r\n\t\t\t\tname: '',\r\n\t\t\t\tcategory: ''\r\n\t\t\t},\r\n\t\t\teditIndex: -1,\r\n\t\t\t\r\n\t\t\t// 播放器相关\r\n\t\t\tcurrentPlayingVoice: null,\r\n\t\t\taudioContext: null,\r\n\t\t\tisPlaying: false,\r\n\t\t\tplayCurrentTime: 0,\r\n\t\t\tplayProgress: 0,\r\n\t\t\tplayTimer: null\r\n\t\t}\r\n\t},\r\n\t\r\n\tcomputed: {\r\n\t\t// 筛选后的语音列表\r\n\t\tfilteredVoiceList() {\r\n\t\t\tif (this.currentCategory === 0) {\r\n\t\t\t\treturn this.voiceList;\r\n\t\t\t}\r\n\t\t\tconst categoryName = this.categories[this.currentCategory];\r\n\t\t\treturn this.voiceList.filter(item => item.category === categoryName);\r\n\t\t},\r\n\t\t\r\n\t\t// 总时长\r\n\t\ttotalDuration() {\r\n\t\t\treturn this.voiceList.reduce((total, item) => total + item.duration, 0);\r\n\t\t},\r\n\t\t\r\n\t\t// 总大小\r\n\t\ttotalSize() {\r\n\t\t\treturn this.voiceList.reduce((total, item) => total + item.size, 0).toFixed(1);\r\n\t\t}\r\n\t},\r\n\t\r\n\tonLoad() {\r\n\t\tthis.initAudio();\r\n\t},\r\n\t\r\n\tonUnload() {\r\n\t\tthis.cleanup();\r\n\t},\r\n\t\r\n\tmethods: {\r\n\t\t// 返回上一页\r\n\t\tgoBack() {\r\n\t\t\tuni.navigateBack();\r\n\t\t},\r\n\t\t\r\n\t\t// 初始化音频\r\n\t\tinitAudio() {\r\n\t\t\t// 初始化录音管理器\r\n\t\t\tthis.recorderManager = uni.getRecorderManager();\r\n\t\t\t\r\n\t\t\tthis.recorderManager.onStart(() => {\r\n\t\t\t\tconsole.log('录音开始');\r\n\t\t\t\tthis.recordStartTime = Date.now();\r\n\t\t\t\tthis.startRecordTimer();\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.recorderManager.onStop((res) => {\r\n\t\t\t\tconsole.log('录音结束', res);\r\n\t\t\t\tthis.stopRecordTimer();\r\n\t\t\t\tthis.handleRecordResult(res);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// 初始化音频上下文\r\n\t\t\tthis.audioContext = uni.createInnerAudioContext();\r\n\t\t\tthis.audioContext.onPlay(() => {\r\n\t\t\t\tthis.isPlaying = true;\r\n\t\t\t\tthis.startPlayTimer();\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.audioContext.onPause(() => {\r\n\t\t\t\tthis.isPlaying = false;\r\n\t\t\t\tthis.stopPlayTimer();\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.audioContext.onStop(() => {\r\n\t\t\t\tthis.isPlaying = false;\r\n\t\t\t\tthis.stopPlayTimer();\r\n\t\t\t\tthis.currentPlayingVoice = null;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.audioContext.onEnded(() => {\r\n\t\t\t\tthis.isPlaying = false;\r\n\t\t\t\tthis.stopPlayTimer();\r\n\t\t\t\tthis.currentPlayingVoice.isPlaying = false;\r\n\t\t\t\tthis.currentPlayingVoice = null;\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// 清理资源\r\n\t\tcleanup() {\r\n\t\t\tif (this.audioContext) {\r\n\t\t\t\tthis.audioContext.stop();\r\n\t\t\t\tthis.audioContext.destroy();\r\n\t\t\t}\r\n\t\t\tif (this.recordTimer) {\r\n\t\t\t\tclearInterval(this.recordTimer);\r\n\t\t\t}\r\n\t\t\tif (this.playTimer) {\r\n\t\t\t\tclearInterval(this.playTimer);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 分类切换\r\n\t\tonCategoryChange(index) {\r\n\t\t\tthis.currentCategory = index;\r\n\t\t},\r\n\t\t\r\n\t\t// 选择文件上传\r\n\t\tasync chooseFile() {\r\n\t\t\tthis.showUploadModal = false;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await uni.chooseFile({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\ttype: 'file',\r\n\t\t\t\t\tsourceType: ['album', 'camera']\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// 检查文件类型\r\n\t\t\t\tconst file = res.tempFiles[0];\r\n\t\t\t\tif (!this.isAudioFile(file.name)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择音频文件',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 添加到列表\r\n\t\t\t\tthis.addVoiceFile(file);\r\n\t\t\t\t\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('选择文件失败:', error);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '选择文件失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 检查是否为音频文件\r\n\t\tisAudioFile(filename) {\r\n\t\t\tconst audioExts = ['.mp3', '.wav', '.m4a', '.aac', '.ogg', '.flac'];\r\n\t\t\tconst ext = filename.toLowerCase().substring(filename.lastIndexOf('.'));\r\n\t\t\treturn audioExts.includes(ext);\r\n\t\t},\r\n\t\t\r\n\t\t// 添加语音文件\r\n\t\taddVoiceFile(file) {\r\n\t\t\tconst newVoice = {\r\n\t\t\t\tid: Date.now(),\r\n\t\t\t\tname: file.name,\r\n\t\t\t\tcategory: \"上传文件\",\r\n\t\t\t\tduration: 0, // 实际项目中需要获取音频时长\r\n\t\t\t\tsize: (file.size / 1024 / 1024).toFixed(1),\r\n\t\t\t\tcreateTime: Date.now(),\r\n\t\t\t\turl: file.path,\r\n\t\t\t\tisPlaying: false\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tthis.voiceList.unshift(newVoice);\r\n\t\t\t\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '添加成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// 开始录音\r\n\t\tstartRecord() {\r\n\t\t\tthis.showUploadModal = false;\r\n\t\t\tthis.showRecordModal = true;\r\n\t\t\t\r\n\t\t\tconst options = {\r\n\t\t\t\tduration: 600000, // 10分钟\r\n\t\t\t\tsampleRate: 44100,\r\n\t\t\t\tnumberOfChannels: 1,\r\n\t\t\t\tencodeBitRate: 192000,\r\n\t\t\t\tformat: 'mp3'\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tthis.recorderManager.start(options);\r\n\t\t},\r\n\t\t\r\n\t\t// 开始录音计时\r\n\t\tstartRecordTimer() {\r\n\t\t\tthis.recordTimer = setInterval(() => {\r\n\t\t\t\tconst elapsed = Date.now() - this.recordStartTime;\r\n\t\t\t\tconst minutes = Math.floor(elapsed / 60000);\r\n\t\t\t\tconst seconds = Math.floor((elapsed % 60000) / 1000);\r\n\t\t\t\tthis.recordTime = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\t\r\n\t\t// 停止录音计时\r\n\t\tstopRecordTimer() {\r\n\t\t\tif (this.recordTimer) {\r\n\t\t\t\tclearInterval(this.recordTimer);\r\n\t\t\t\tthis.recordTimer = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 停止录音\r\n\t\tstopRecord() {\r\n\t\t\tthis.recorderManager.stop();\r\n\t\t},\r\n\t\t\r\n\t\t// 取消录音\r\n\t\tcancelRecord() {\r\n\t\t\tthis.recorderManager.stop();\r\n\t\t\tthis.showRecordModal = false;\r\n\t\t\tthis.recordTime = \"00:00\";\r\n\t\t},\r\n\t\t\r\n\t\t// 处理录音结果\r\n\t\thandleRecordResult(res) {\r\n\t\t\tthis.showRecordModal = false;\r\n\t\t\tthis.recordTime = \"00:00\";\r\n\t\t\t\r\n\t\t\tif (res.tempFilePath) {\r\n\t\t\t\tconst newVoice = {\r\n\t\t\t\t\tid: Date.now(),\r\n\t\t\t\t\tname: `录音_${new Date().toLocaleString()}.mp3`,\r\n\t\t\t\t\tcategory: \"个人录音\",\r\n\t\t\t\t\tduration: Math.floor(res.duration / 1000),\r\n\t\t\t\t\tsize: (res.fileSize / 1024 / 1024).toFixed(1),\r\n\t\t\t\t\tcreateTime: Date.now(),\r\n\t\t\t\t\turl: res.tempFilePath,\r\n\t\t\t\t\tisPlaying: false\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tthis.voiceList.unshift(newVoice);\r\n\t\t\t\t\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '录音保存成功',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 播放语音\r\n\t\tplayVoice(item) {\r\n\t\t\t// 如果当前有播放中的音频，先停止\r\n\t\t\tif (this.currentPlayingVoice && this.currentPlayingVoice.id !== item.id) {\r\n\t\t\t\tthis.currentPlayingVoice.isPlaying = false;\r\n\t\t\t\tthis.audioContext.stop();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (item.isPlaying) {\r\n\t\t\t\t// 暂停播放\r\n\t\t\t\tthis.audioContext.pause();\r\n\t\t\t\titem.isPlaying = false;\r\n\t\t\t} else {\r\n\t\t\t\t// 开始播放\r\n\t\t\t\tthis.audioContext.src = item.url;\r\n\t\t\t\tthis.audioContext.play();\r\n\t\t\t\titem.isPlaying = true;\r\n\t\t\t\tthis.currentPlayingVoice = item;\r\n\t\t\t\tthis.playCurrentTime = 0;\r\n\t\t\t\tthis.playProgress = 0;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 暂停播放\r\n\t\tpauseVoice() {\r\n\t\t\tthis.audioContext.pause();\r\n\t\t},\r\n\t\t\r\n\t\t// 继续播放\r\n\t\tresumeVoice() {\r\n\t\t\tthis.audioContext.play();\r\n\t\t},\r\n\t\t\r\n\t\t// 停止播放\r\n\t\tstopVoice() {\r\n\t\t\tthis.audioContext.stop();\r\n\t\t\tif (this.currentPlayingVoice) {\r\n\t\t\t\tthis.currentPlayingVoice.isPlaying = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 开始播放计时\r\n\t\tstartPlayTimer() {\r\n\t\t\tthis.playTimer = setInterval(() => {\r\n\t\t\t\tthis.playCurrentTime = this.audioContext.currentTime;\r\n\t\t\t\tif (this.currentPlayingVoice) {\r\n\t\t\t\t\tthis.playProgress = (this.playCurrentTime / this.currentPlayingVoice.duration) * 100;\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\t\r\n\t\t// 停止播放计时\r\n\t\tstopPlayTimer() {\r\n\t\t\tif (this.playTimer) {\r\n\t\t\t\tclearInterval(this.playTimer);\r\n\t\t\t\tthis.playTimer = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 进度条变化\r\n\t\tonProgressChange(value) {\r\n\t\t\tif (this.currentPlayingVoice) {\r\n\t\t\t\tconst targetTime = (value / 100) * this.currentPlayingVoice.duration;\r\n\t\t\t\tthis.audioContext.seek(targetTime);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 编辑语音\r\n\t\teditVoice(item) {\r\n\t\t\tthis.editForm = {\r\n\t\t\t\tid: item.id,\r\n\t\t\t\tname: item.name,\r\n\t\t\t\tcategory: item.category\r\n\t\t\t};\r\n\t\t\tthis.editIndex = this.voiceList.findIndex(voice => voice.id === item.id);\r\n\t\t\tthis.showEditModal = true;\r\n\t\t},\r\n\t\t\r\n\t\t// 编辑分类选择\r\n\t\tonEditCategoryChange(value) {\r\n\t\t\tthis.editForm.category = this.categories[value];\r\n\t\t},\r\n\t\t\r\n\t\t// 保存编辑\r\n\t\tsaveEdit() {\r\n\t\t\tif (!this.editForm.name.trim()) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入语音名称',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.editIndex >= 0) {\r\n\t\t\t\tthis.voiceList[this.editIndex].name = this.editForm.name;\r\n\t\t\t\tthis.voiceList[this.editIndex].category = this.editForm.category;\r\n\t\t\t\t\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '保存成功',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis.showEditModal = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 删除语音\r\n\t\tdeleteVoice(item, index) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '确认删除',\r\n\t\t\t\tcontent: `确定要删除\"${item.name}\"吗？`,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t// 如果正在播放这个音频，先停止\r\n\t\t\t\t\t\tif (this.currentPlayingVoice && this.currentPlayingVoice.id === item.id) {\r\n\t\t\t\t\t\t\tthis.audioContext.stop();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.voiceList.splice(this.voiceList.findIndex(voice => voice.id === item.id), 1);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除成功',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// 格式化时长\r\n\t\tformatDuration(seconds) {\r\n\t\t\tconst mins = Math.floor(seconds / 60);\r\n\t\t\tconst secs = Math.floor(seconds % 60);\r\n\t\t\treturn `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n\t\t},\r\n\t\t\r\n\t\t// 格式化文件大小\r\n\t\tformatSize(sizeMB) {\r\n\t\t\treturn `${sizeMB}MB`;\r\n\t\t},\r\n\t\t\r\n\t\t// 格式化日期\r\n\t\tformatDate(timestamp) {\r\n\t\t\tconst date = new Date(timestamp);\r\n\t\t\tconst now = new Date();\r\n\t\t\tconst diff = now.getTime() - timestamp;\r\n\t\t\t\r\n\t\t\tif (diff < 86400000) { // 小于一天\r\n\t\t\t\treturn date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });\r\n\t\t\t} else if (diff < 604800000) { // 小于一周\r\n\t\t\t\tconst days = Math.floor(diff / 86400000);\r\n\t\t\t\treturn `${days}天前`;\r\n\t\t\t} else {\r\n\t\t\t\treturn date.toLocaleDateString('zh-CN', { month: '2-digit', day: '2-digit' });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.voice-storage-container {\r\n\tbackground-color: #f8f9fa;\r\n\tmin-height: 100vh;\r\n}\r\n\r\n.stats-container {\r\n\tdisplay: flex;\r\n\tpadding: 15px;\r\n\tgap: 10px;\r\n}\r\n\r\n.stats-card {\r\n\tflex: 1;\r\n\tbackground: white;\r\n\tborder-radius: 12px;\r\n\tpadding: 15px;\r\n\ttext-align: center;\r\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.stats-number {\r\n\tfont-size: 24px;\r\n\tfont-weight: bold;\r\n\tcolor: #007AFF;\r\n\tmargin-bottom: 5px;\r\n}\r\n\r\n.stats-label {\r\n\tfont-size: 12px;\r\n\tcolor: #666;\r\n}\r\n\r\n.filter-container {\r\n\tbackground: white;\r\n\tpadding: 0 15px;\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n.voice-list {\r\n\tpadding: 0 15px;\r\n\tpadding-bottom: 100px;\r\n}\r\n\r\n.empty-state {\r\n\ttext-align: center;\r\n\tpadding: 50px 0;\r\n}\r\n\r\n.voice-item {\r\n\tbackground: white;\r\n\tborder-radius: 12px;\r\n\tpadding: 15px;\r\n\tmargin-bottom: 10px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.voice-info {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tflex: 1;\r\n}\r\n\r\n.voice-cover {\r\n\tmargin-right: 15px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.voice-details {\r\n\tflex: 1;\r\n}\r\n\r\n.voice-name {\r\n\tfont-size: 16px;\r\n\tfont-weight: 500;\r\n\tcolor: #333;\r\n\tmargin-bottom: 8px;\r\n}\r\n\r\n.voice-meta {\r\n\tdisplay: flex;\r\n\tgap: 10px;\r\n\tmargin-bottom: 8px;\r\n}\r\n\r\n.voice-duration,\r\n.voice-size,\r\n.voice-date {\r\n\tfont-size: 12px;\r\n\tcolor: #999;\r\n}\r\n\r\n.voice-category {\r\n\tdisplay: flex;\r\n}\r\n\r\n.voice-actions {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.upload-modal {\r\n\tpadding: 20px;\r\n}\r\n\r\n.modal-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n.modal-title {\r\n\tfont-size: 18px;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.upload-options {\r\n\tdisplay: flex;\r\n\tgap: 20px;\r\n}\r\n\r\n.upload-option {\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tpadding: 20px;\r\n\tborder: 1px dashed #ddd;\r\n\tborder-radius: 12px;\r\n\t\r\n\ttext {\r\n\t\tmargin-top: 10px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #666;\r\n\t}\r\n}\r\n\r\n.record-modal {\r\n\tpadding: 20px;\r\n\ttext-align: center;\r\n}\r\n\r\n.record-header {\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n.record-title {\r\n\tfont-size: 18px;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.record-content {\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n.record-time {\r\n\tfont-size: 32px;\r\n\tfont-weight: bold;\r\n\tcolor: #FF6B35;\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n.record-wave {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: end;\r\n\theight: 40px;\r\n\tgap: 2px;\r\n}\r\n\r\n.wave-bar {\r\n\twidth: 3px;\r\n\tbackground: #FF6B35;\r\n\tborder-radius: 2px;\r\n\tanimation: wave 1s infinite ease-in-out;\r\n}\r\n\r\n.wave-bar:nth-child(2n) {\r\n\tanimation-delay: 0.1s;\r\n}\r\n\r\n.wave-bar:nth-child(3n) {\r\n\tanimation-delay: 0.2s;\r\n}\r\n\r\n.record-actions {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tgap: 10px;\r\n}\r\n\r\n.edit-modal {\r\n\tpadding: 20px;\r\n}\r\n\r\n.edit-header {\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n.edit-title {\r\n\tfont-size: 18px;\r\n\tfont-weight: 500;\r\n\ttext-align: center;\r\n}\r\n\r\n.edit-form {\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n.edit-actions {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tgap: 10px;\r\n}\r\n\r\n.player-bar {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground: white;\r\n\tborder-top: 1px solid #eee;\r\n\tpadding: 15px;\r\n\tz-index: 999;\r\n}\r\n\r\n.player-content {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n.player-info {\r\n\tflex: 1;\r\n}\r\n\r\n.player-name {\r\n\tfont-size: 14px;\r\n\tcolor: #333;\r\n\tdisplay: block;\r\n\tmargin-bottom: 5px;\r\n}\r\n\r\n.player-time {\r\n\tfont-size: 12px;\r\n\tcolor: #999;\r\n}\r\n\r\n.player-controls {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n@keyframes wave {\r\n\t0%, 100% {\r\n\t\ttransform: scaleY(1);\r\n\t}\r\n\t50% {\r\n\t\ttransform: scaleY(2);\r\n\t}\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/project/Audiora/Audiora_h5_/pages/voice_storage/voice_storage.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}