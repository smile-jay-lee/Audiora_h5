"use strict";const e=require("../../common/vendor.js"),t={data:()=>({currentCategory:"all",showFilter:!1,selectedDuration:"",selectedHeat:"",hasMore:!0,page:1,categoryList:[{icon:"ğŸ“‚",name:"å…¨éƒ¨",type:"all"},{icon:"ğŸ“š",name:"æœ‰å£°ä¹¦",type:"book"},{icon:"ğŸµ",name:"éŸ³ä¹",type:"music"},{icon:"ğŸ™ï¸",name:"æ’­å®¢",type:"podcast"},{icon:"ğŸ“°",name:"æ–°é—»",type:"news"},{icon:"ğŸ§˜",name:"å†¥æƒ³",type:"meditation"},{icon:"ğŸƒ",name:"è¿åŠ¨",type:"sport"},{icon:"ğŸ‘¶",name:"å„¿ç«¥",type:"children"},{icon:"ğŸ­",name:"æˆæ›²",type:"opera"}],durationOptions:[{label:"å…¨éƒ¨",value:""},{label:"çŸ­ç¯‡(< 30åˆ†é’Ÿ)",value:"short"},{label:"ä¸­ç¯‡(30-60åˆ†é’Ÿ)",value:"medium"},{label:"é•¿ç¯‡(> 60åˆ†é’Ÿ)",value:"long"}],heatOptions:[{label:"å…¨éƒ¨",value:""},{label:"æœ€æ–°",value:"latest"},{label:"æœ€çƒ­",value:"hottest"},{label:"è¯„åˆ†æœ€é«˜",value:"highest"}],allContentList:[{id:1,title:"ä¸‰ä½“ï¼šé»‘æš—æ£®æ—",author:"åˆ˜æ…ˆæ¬£",cover:"/static/audio1.jpg",duration:"15:30:45",category:"book",views:"12.5ä¸‡",likes:"8.2åƒ",isFavorited:!1},{id:2,title:"å¤œå¬æ•…äº‹",author:"å¤œå¬ä¸»æ’­",cover:"/static/audio2.jpg",duration:"25:20",category:"podcast",views:"8.9ä¸‡",likes:"5.6åƒ",isFavorited:!0},{id:3,title:"è½»æ¾çˆµå£«ä¹",author:"çˆµå£«ä¹å›¢",cover:"/static/audio3.jpg",duration:"1:45:30",category:"music",views:"6.3ä¸‡",likes:"4.1åƒ",isFavorited:!1},{id:4,title:"ç¡å‰å†¥æƒ³",author:"å†¥æƒ³å¯¼å¸ˆ",cover:"/static/audio4.jpg",duration:"18:00",category:"meditation",views:"15.2ä¸‡",likes:"12.8åƒ",isFavorited:!0},{id:5,title:"ä»Šæ—¥æ–°é—»æ‘˜è¦",author:"æ–°é—»æ’­æŠ¥å‘˜",cover:"/static/audio5.jpg",duration:"12:30",category:"news",views:"23.6ä¸‡",likes:"3.2åƒ",isFavorited:!1},{id:6,title:"å„¿ç«¥æ•…äº‹å¤§å…¨",author:"æ•…äº‹å§å§",cover:"/static/audio6.jpg",duration:"35:45",category:"children",views:"18.7ä¸‡",likes:"15.3åƒ",isFavorited:!1}]}),computed:{filteredList(){let e=this.allContentList;return"all"!==this.currentCategory&&(e=e.filter((e=>e.category===this.currentCategory))),this.selectedDuration&&(e=e.filter((e=>{const t=this.parseDuration(e.duration);switch(this.selectedDuration){case"short":return t<30;case"medium":return t>=30&&t<=60;case"long":return t>60;default:return!0}}))),e}},onLoad(){this.loadContent()},methods:{switchCategory(e){this.currentCategory=e},getCategoryName(e){const t=this.categoryList.find((t=>t.type===e));return t?t.name:""},showFilterPopup(){this.showFilter=!0},hideFilterPopup(){this.showFilter=!1},showSortPopup(){e.index.showActionSheet({itemList:["æœ€æ–°å‘å¸ƒ","æœ€å¤šæ’­æ”¾","æœ€å¤šæ”¶è—","æ—¶é•¿æœ€çŸ­","æ—¶é•¿æœ€é•¿"],success:e=>{console.log("é€‰æ‹©äº†æ’åºæ–¹å¼:",e.tapIndex),this.sortContent(e.tapIndex)}})},selectDuration(e){this.selectedDuration=e},selectHeat(e){this.selectedHeat=e},resetFilter(){this.selectedDuration="",this.selectedHeat=""},applyFilter(){this.hideFilterPopup()},toggleFavorite(t){t.isFavorited=!t.isFavorited,e.index.showToast({title:t.isFavorited?"å·²æ”¶è—":"å·²å–æ¶ˆæ”¶è—",icon:"none"})},playContent(t){e.index.showToast({title:`æ­£åœ¨æ’­æ”¾: ${t.title}`,icon:"none"})},parseDuration(e){const t=e.split(":");return 3===t.length?60*parseInt(t[0])+parseInt(t[1]):2===t.length?parseInt(t[0]):0},sortContent(t){console.log("æ’åºç±»å‹:",t),e.index.showToast({title:"æ’åºå®Œæˆ",icon:"none"})},loadContent(){console.log("åŠ è½½åˆ†ç±»å†…å®¹")},loadMore(){this.hasMore&&setTimeout((()=>{this.page++,console.log("åŠ è½½æ›´å¤šå†…å®¹, é¡µç :",this.page),this.page>=3&&(this.hasMore=!1)}),1e3)}}};const o=e._export_sfc(t,[["render",function(t,o,i,a,r,s){return e.e({a:e.f(r.categoryList,((t,o,i)=>({a:e.t(t.icon),b:e.t(t.name),c:o,d:r.currentCategory===t.type?1:"",e:e.o((e=>s.switchCategory(t.type)),o)}))),b:e.o(((...e)=>s.showFilterPopup&&s.showFilterPopup(...e))),c:e.o(((...e)=>s.showSortPopup&&s.showSortPopup(...e))),d:e.f(s.filteredList,((t,o,i)=>({a:t.cover,b:e.t(t.title),c:e.t(t.author),d:e.t(s.getCategoryName(t.category)),e:e.t(t.duration),f:e.t(t.views),g:e.t(t.likes),h:e.t(t.isFavorited?"â¤ï¸":"ğŸ¤"),i:t.isFavorited?1:"",j:e.o((e=>s.toggleFavorite(t)),o),k:e.o((e=>s.playContent(t)),o),l:o,m:e.o((e=>s.playContent(t)),o)}))),e:r.hasMore},(r.hasMore,{}),{f:e.o(((...e)=>s.loadMore&&s.loadMore(...e))),g:r.showFilter},r.showFilter?{h:e.o(((...e)=>s.hideFilterPopup&&s.hideFilterPopup(...e))),i:e.f(r.durationOptions,((t,o,i)=>({a:e.t(t.label),b:t.value,c:r.selectedDuration===t.value?1:"",d:e.o((e=>s.selectDuration(t.value)),t.value)}))),j:e.f(r.heatOptions,((t,o,i)=>({a:e.t(t.label),b:t.value,c:r.selectedHeat===t.value?1:"",d:e.o((e=>s.selectHeat(t.value)),t.value)}))),k:e.o(((...e)=>s.resetFilter&&s.resetFilter(...e))),l:e.o(((...e)=>s.applyFilter&&s.applyFilter(...e))),m:e.o((()=>{})),n:e.o(((...e)=>s.hideFilterPopup&&s.hideFilterPopup(...e)))}:{})}]]);wx.createPage(o);
